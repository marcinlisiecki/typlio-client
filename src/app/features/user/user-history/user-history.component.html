<section class="mt-from-header" *ngIf="!error">
  <header *ngIf="user">
    <app-page-heading [steps]="[user.username.toUpperCase(), 'HISTORY']">History</app-page-heading>
  </header>
  <div *ngIf="!user && !error">
    <p-skeleton width="150px" height="20px"></p-skeleton>
    <p-skeleton width="200px" height="32px" styleClass="mt-1"></p-skeleton>
  </div>

  <section class="flex gap-x-16 mt-from-page-heading">
    <app-user-history-filters
      [modes]="modes"
      [selectedModes]="selectedModes"
    ></app-user-history-filters>
    <section class="flex-1">
      <div *ngIf="!speedTests && !error">
        <p-skeleton width="100%" height="120px"></p-skeleton>
        <p-skeleton width="100%" height="120px" styleClass="mt-2"></p-skeleton>
        <p-skeleton width="100%" height="120px" styleClass="mt-2"></p-skeleton>
        <p-skeleton width="100%" height="120px" styleClass="mt-2"></p-skeleton>
        <p-skeleton width="100%" height="120px" styleClass="mt-2"></p-skeleton>
      </div>

      <div *ngIf="speedTests" class="flex flex-col gap-y-2">
        <app-user-history-item
          *ngFor="let speedTest of speedTests"
          [speedTest]="speedTest"
        ></app-user-history-item>
      </div>
    </section>
  </section>
</section>

<app-page-error *ngIf="error">{{ error }}</app-page-error>
